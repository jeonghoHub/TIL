### 인증서 만드는 방식 2가지

- 로컬 인증서
- CA 인증서

브라우저는 사전에 인정된 신뢰할 수 있는 CA목록을 내장하고 있다.

http는 평문  https는 암호화
대칭키는 하나의 키로 암복호화
비대칭키는 public key와 private key 방식으로 암복호화 (암호화 할때랑 복호화할떄 쓰는 키가 다르다.)

public key로 암호화하면 private key로 푼다.

비대칭키는 암호화를 복호화할 때 컴퓨팅 파워를 많이 써야해서 느리다. 반면, 대칭키는 빠르다 이거의 좋은 조합이 HTTPS

1. 비대칭키로 연결을 맺는다.
2. 안전하게 대칭키를 공유한다.
3. 이후 통신은 대칭키 방식으로 통신한다.
4. 
1-2 과정까지는 비대칭키 연결로 안전하게 대칭키를 공유한다

즉, 핸드쉐이킹만 비대칭키로 한다.

## HTTPS 웹 서버 연결 방식
1. 나의 브라우저가 웹 서버에 client hello를 한다.(나 너에게 접속할래)
2. 웹 서버에 개인키와 공개키가 들어있고 인증서를 나의 브라우저에 전달한다.(public key)
3. 인증서가 신뢰할 수 있는 인증서인지 확인한다. 인증기관에서 받아온게 아니라면 브라우저에서 경고 발생(신뢰할 수 없는 기관에서 발급된 인증서 경고)
4. 나의 브라우저가 세션키를 만드는데 여기서 웹 서버에서 전달한 공개키로 암호화를 한다.
5. 암호화된 세션키를 서버로 보낸다. (여기서 해커가 세션키를 탈취해도 복호화 할 수 있는 개인키는 서버에 있기 때문에 안전하다.)
6. 서버에서는 개인키로 암호화된 세션키를 복호화한다.
7. 이후부터는 서로 같은 대칭키를 갖고 있기 때문에 대칭키로 소통할 수 있다.